
manifest_version: 1 # required
artifacts:
 setup_script: setup_script.sql
 readme: readme.md
 container_services:
   images:
   - /genesisapp_master/code_schema/service_repo/genesis_app:latest  
 extension_code: true
 default_streamlit: core.Genesis
configuration:
  trace_level: OFF
  log_level: DEBUG
  grant_callback: core.grant_callback
references:
  - consumer_external_access:
      label: "Consumer External Access Integration (legacy)"
      description: "This allows access to Slack/OpenAI"
      privileges:
        - USAGE
      object_type: EXTERNAL ACCESS INTEGRATION
      register_callback: core.register_single_reference
      configuration_callback: core.get_config_for_ref
  - slack_external_access:
      label: "Slack External Access Integration"
      description: "This is required to access Slack"
      privileges:
        - USAGE
      object_type: EXTERNAL ACCESS INTEGRATION
      register_callback: core.register_single_reference
      configuration_callback: core.get_config_for_ref
  - openai_external_access:
      label: "OpenAI External Access Integration"
      description: "This is required to access OpenAI"
      privileges:
        - USAGE
      object_type: EXTERNAL ACCESS INTEGRATION
      register_callback: core.register_single_reference
      configuration_callback: core.get_config_for_ref
  - azure_openai_external_access:
      label: "Azure OpenAI External Access Integration"
      description: "This is required to access Azure OpenAI"
      privileges:
        - USAGE
      object_type: EXTERNAL ACCESS INTEGRATION
      register_callback: core.register_single_reference
      configuration_callback: core.get_config_for_ref
privileges:
  - BIND SERVICE ENDPOINT:
      description: "Allow access to application endpoints"
  - CREATE COMPUTE POOL:
      description: "Allows Genesis to create a Small Snowflake Compute Pool to run the application"
  - CREATE WAREHOUSE:
      description: "Allows Genesis to create a XSmall virtual warehouse for use by the application"
  - IMPORTED PRIVILEGES ON SNOWFLAKE DB:
      description: "Allow Genbots access to query account_usage views for Snowflake cost savings analysis"
