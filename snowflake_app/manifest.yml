
manifest_version: 1 # required
artifacts:
 setup_script: setup_script.sql
 readme: readme.md
 container_services:
   images:
   - /genesisapp_master/code_schema/service_repo/genesis_app:latest  
 extension_code: true
 default_streamlit: core.Genesis
configuration:
  trace_level: OFF
  log_level: DEBUG
  grant_callback: core.grant_callback
references:
  - consumer_warehouse:
      label: "Consumer warehouse"
      description: "A virtual warehouse in the consumer account that exists outside the APPLICATION object."
      privileges:
        - USAGE
        - OPERATE
      object_type: WAREHOUSE
      multi_valued: false
      register_callback: core.register_single_reference
privileges:
  - BIND SERVICE ENDPOINT:
      description: "Allow access to application endpoints"
  - CREATE COMPUTE POOL:
      description: "Allows Genesis to create a Small Snowflake Compute Pool to run the application"
  - IMPORTED PRIVILEGES ON SNOWFLAKE DB:
      description: "(Optional) Allow GenBots access to query account_usage views"
